<ion-content class="core">
  <app-header [profile]="profile"></app-header>

  <div class="noner" [hidden]="!isLoading">
    <ion-spinner name="crescent"></ion-spinner>
  </div>

  <div class="main" *ngIf="!isLoading">
    <div class="lt">
      <div class="very">
        <div class="p-tile inst pal" *ngFor="let inst of institutions">
          <div class="person">
            <ion-avatar><ion-img [src]="inst.profileImgUrl" [hidden]="!inst.profileImgUrl"></ion-img></ion-avatar>
            <span>
              <h4>{{ inst.name }}</h4>
              <small>{{ inst.iType }}</small>
            </span>
          </div>
          <p>{{ inst.briefBio ? (inst.briefBio.length > 115 ? inst.briefBio.substr(0, 113) + '...' : inst.briefBio) : 'Not available' }}</p>
          <div class="kod">
            <span>
              <ion-icon name="at-outline"></ion-icon>
              <small>{{ inst.email }}</small>
            </span>
            <span>
              <ion-icon name="call-outline"></ion-icon>
              <small>{{ inst.telephone }}</small>
            </span>
            <span>
              <ion-icon name="location-outline"></ion-icon>
              <small>{{ inst.address.address ? inst.address.address : 'Not available' }}</small>
            </span>
          </div>
          <ion-button fill="outline" [routerLink]="['/profile/institution/' + inst?._id]">view profile</ion-button>
        </div>
      </div>
    </div>
    <div class="rt">
      <app-suggestion-widget [profile]="profile"></app-suggestion-widget>
      <ion-button class="ptw" (click)="makePost()">make post</ion-button>
    </div>
  </div>
</ion-content>
